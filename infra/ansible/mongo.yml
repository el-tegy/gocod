# This example demonstrates deploying a MongoDB service using Docker on an instance, exposing it on port 27017.
# Caution: For actual IRL(In Real Life) deployments, ensure robust and secure configurations beyond this basic setup.
# To deploy a real database, you should be more robust and safe than the current configurations.
# TODO: Develop a robust method to install and run MongoDB, focusing on:
# - Maintainability: The setup should be easily adaptable, allowing for updates like changing the MongoDB version or adding users.
# - Readability: Use modularity to improve clarity and minimize code duplication, utilizing external files and variables where possible.
# - Persistence: Ensure data retention despite configuration updates (e.g., version changes).
# - Backup (Optional but recommended): Incorporate easy backup solutions, such as leveraging GCP External disks with Terraform and scripting backups in Ansible.
# Note: The current setup lacks data persistence, meaning data is lost when the MongoDB instance is updated.
---
- hosts: mongo_cluster
  become: true
  roles:
    - mongo_container
    - mongo_config
    - mongo_backup
